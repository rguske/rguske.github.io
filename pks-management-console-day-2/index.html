<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>VMware Enterprise PKS Management Console (EPMC) - Day 2 - Robert Guske</title>
        <meta name="Description" content="rguske.github.io is a personal website which provides informational &amp; detailed content, based on Robert Guske´s gained experiences with solutions by VMware (primarily)."><meta property="og:title" content="VMware Enterprise PKS Management Console (EPMC) - Day 2" />
<meta property="og:description" content="In the previous blog post we went through the Day-1 capabilities of the new version of the Enterprise PKS Management Console (EPMC). Let´s have a look at what´s in for Day-2.
Summary Page The summary page of your Enterprise PKS deployment will appear after clicking the Enterprise PKS button at the top left corner. This page will give you an detailed overview of all the PKS Management Plane components including important data like, Service State, Version Numbers, IP addresses and also Hyperlinks either to the relevant Virtual Machine in vSphere or to the Website of an Management-Component like, NSX-T or the Pivotal Ops Manager." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://rguske.github.io/pks-management-console-day-2/" />
<meta property="article:published_time" content="2019-11-27T14:40:23+01:00" />
<meta property="article:modified_time" content="2020-05-07T18:55:58+02:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="VMware Enterprise PKS Management Console (EPMC) - Day 2"/>
<meta name="twitter:description" content="In the previous blog post we went through the Day-1 capabilities of the new version of the Enterprise PKS Management Console (EPMC). Let´s have a look at what´s in for Day-2.
Summary Page The summary page of your Enterprise PKS deployment will appear after clicking the Enterprise PKS button at the top left corner. This page will give you an detailed overview of all the PKS Management Plane components including important data like, Service State, Version Numbers, IP addresses and also Hyperlinks either to the relevant Virtual Machine in vSphere or to the Website of an Management-Component like, NSX-T or the Pivotal Ops Manager."/>
<meta name="application-name" content="Robert Guske">
<meta name="apple-mobile-web-app-title" content="Robert Guske"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="icon" href="/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://rguske.github.io/pks-management-console-day-2/" /><link rel="prev" href="https://rguske.github.io/vmware-microsites-you-should-bookmark/" /><link rel="next" href="https://rguske.github.io/pks-management-console-day-1/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "VMware Enterprise PKS Management Console (EPMC) - Day 2",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/rguske.github.io\/pks-management-console-day-2\/"
        },"image": {
                "@type": "ImageObject",
                "url": "https:\/\/rguske.github.io\/cover.png",
                "width":  800 ,
                "height":  600 
            },"genre": "posts","keywords": "November2019, Kubernetes, PKS, EPMC, vSphere","wordcount":  1295 ,
        "url": "https:\/\/rguske.github.io\/pks-management-console-day-2\/","datePublished": "2019-11-27T14:40:23+01:00","dateModified": "2020-05-07T18:55:58+02:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License. © All rights reserved -2018","publisher": {
                "@type": "Organization",
                "name": "Robert Guske",
                "logo": {
                "@type": "ImageObject",
                "url": "https:\/\/rguske.github.io\/logo.png",
                "width":  127 ,
                "height":  40 
                }
            },"author": {
                "@type": "Person",
                "name": "Robert Guske"
            },"description": ""
    }
    </script></head>
    <body><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Robert Guske"><img
        class="lazyload logo"
        src="/svg/loading/small.min.svg"
        data-src="/img/avatar.png"
        data-srcset="/img/avatar.png, /img/avatar.png 1.5x, /img/avatar.png 2x"
        data-sizes="auto"
        alt="Robert Guske"
        title="Robert Guske" />Robert Guske</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/" title="Read me"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/vmware-microsites-you-should-bookmark/" title="VMware Microsites"> VMware Microsites </a><a class="menu-item" href="/about/" title="The Author"> About </a><a class="menu-item" href="/disclaimer/"> Disclaimer </a><a class="menu-item" href="https://github.com/rguske" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Robert Guske"><img
        class="lazyload logo"
        src="/svg/loading/small.min.svg"
        data-src="/img/avatar.png"
        data-srcset="/img/avatar.png, /img/avatar.png 1.5x, /img/avatar.png 2x"
        data-sizes="auto"
        alt="Robert Guske"
        title="Robert Guske" />Robert Guske</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="Read me">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/vmware-microsites-you-should-bookmark/" title="VMware Microsites">VMware Microsites</a><a class="menu-item" href="/about/" title="The Author">About</a><a class="menu-item" href="/disclaimer/" title="">Disclaimer</a><a class="menu-item" href="https://github.com/rguske" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content always-active" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">VMware Enterprise PKS Management Console (EPMC) - Day 2</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/about/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Robert Guske</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i><time datetime=2019-11-27>2019-11-27</time>&nbsp;
                <i class="fas fa-pencil-alt fa-fw"></i>about 1295 words&nbsp;
                <i class="far fa-clock fa-fw"></i>7 min&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        src="/svg/loading/normal.min.svg"
        data-src="/img/epmc_day2_cover.jpg"
        data-srcset="/img/epmc_day2_cover.jpg, /img/epmc_day2_cover.jpg 1.5x, /img/epmc_day2_cover.jpg 2x"
        data-sizes="auto"
        alt="/img/epmc_day2_cover.jpg"
        title="/img/epmc_day2_cover.jpg" /></div><div class="details toc" id="toc-static">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#summary-page">Summary Page</a></li>
    <li><a href="#identity-management">Identity Management</a></li>
    <li><a href="#deployment-metadata">Deployment Metadata</a></li>
    <li><a href="#kubernetes-cluster-creation">Kubernetes cluster creation</a></li>
    <li><a href="#kubernetes-cluster-information">Kubernetes cluster information</a></li>
    <li><a href="#upgrade-enterprise-pks--kubernetes">Upgrade Enterprise PKS + Kubernetes</a></li>
    <li><a href="#vmware-enterprise-pks-component-patches">VMware Enterprise PKS Component Patches</a></li>
    <li><a href="#resources">Resources</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>In the <a href="https://rguske.github.io/post/pks-management-console-day-1/" target="_blank">previous blog post</a> we went through the Day-1 capabilities of the new version of the Enterprise PKS Management Console (EPMC). Let´s have a look at what´s in for <strong>Day-2</strong>.</p>
<h2 id="summary-page">Summary Page</h2>
<p>The summary page of your Enterprise PKS deployment will appear after clicking the <strong>Enterprise PKS</strong> button at the top left corner. This page will give you an detailed overview of all the PKS Management Plane components including important data like, <em>Service State</em>, <em>Version Numbers</em>, <em>IP addresses</em> and also <em>Hyperlinks</em> either to the relevant Virtual Machine in vSphere or to the Website of an Management-Component like, NSX-T or the Pivotal Ops Manager.</p>
<figure class="center"><a class="lightgallery" href="/img/posts/201911_pksmgmtconsole/CapturFiles-20191116_062030.jpg" title="/img/posts/201911_pksmgmtconsole/CapturFiles-20191116_062030.jpg" data-thumbnail="/img/posts/201911_pksmgmtconsole/CapturFiles-20191116_062030.jpg" data-sub-html="<h2>Figure I: Enterprise PKS deployment summary</h2>">
        <img
            class="lazyload"
            src="/svg/loading/normal.min.svg"
            data-src="/img/posts/201911_pksmgmtconsole/CapturFiles-20191116_062030.jpg"
            data-srcset="/img/posts/201911_pksmgmtconsole/CapturFiles-20191116_062030.jpg, /img/posts/201911_pksmgmtconsole/CapturFiles-20191116_062030.jpg 1.5x, /img/posts/201911_pksmgmtconsole/CapturFiles-20191116_062030.jpg 2x"
            data-sizes="auto"
            alt="/img/posts/201911_pksmgmtconsole/CapturFiles-20191116_062030.jpg" />
    </a><figcaption class="image-caption">Figure I: Enterprise PKS deployment summary</figcaption>
    </figure>
<hr>
<h2 id="identity-management">Identity Management</h2>
<p>Do you remember the following?</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">uaac user add jarvis --emails jarvis@jarvis.lab -p Password0815
</code></pre></td></tr></table>
</div>
</div><p>With EPMC you can simply add users and groups through the <strong>Identity Management</strong> tab. Click on <em>Add Users</em> and fill out the required fields. In this version of EPMC, you cannot add individual LDAP or SAML users. Instead of, you have to use the <em>Groups</em> tab for LDAP or SAML authentication.</p>
<div class="details admonition Note open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-pencil-alt fa-fw"></i>Note<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>This release of Enterprise PKS Management Console does not support assigning roles to individual LDAP or SAML users. To assign roles to LDAP or SAML users, use user groups.</p>
<p>Source: <a href="https://docs.vmware.com/en/VMware-Enterprise-PKS/1.6/vmware-enterprise-pks-16/GUID-console-console-identity-management.html">https://docs.vmware.com/en/VMware-Enterprise-PKS/1.6/vmware-enterprise-pks-16/GUID-console-console-identity-management.html</a></p>
</div>
        </div>
    </div>
<figure class="center"><a class="lightgallery" href="/img/posts/201911_pksmgmtconsole/CapturFiles-20191124_052517.jpg" title="/img/posts/201911_pksmgmtconsole/CapturFiles-20191124_052517.jpg" data-thumbnail="/img/posts/201911_pksmgmtconsole/CapturFiles-20191124_052517.jpg" data-sub-html="<h2>Figure II: Identity Management</h2>">
        <img
            class="lazyload"
            src="/svg/loading/normal.min.svg"
            data-src="/img/posts/201911_pksmgmtconsole/CapturFiles-20191124_052517.jpg"
            data-srcset="/img/posts/201911_pksmgmtconsole/CapturFiles-20191124_052517.jpg, /img/posts/201911_pksmgmtconsole/CapturFiles-20191124_052517.jpg 1.5x, /img/posts/201911_pksmgmtconsole/CapturFiles-20191124_052517.jpg 2x"
            data-sizes="auto"
            alt="/img/posts/201911_pksmgmtconsole/CapturFiles-20191124_052517.jpg" />
    </a><figcaption class="image-caption">Figure II: Identity Management</figcaption>
    </figure>
<p>There are two roles which can be assigned. The <strong>Cluster Manager</strong>, to <a href="https://docs.vmware.com/en/VMware-Enterprise-PKS/1.6/vmware-enterprise-pks-16/GUID-control-plane.html" target="_blank">manage the lifecycle</a> of the individual Kubernetes Clusters and the <strong>PKS Administrator</strong>, which manage the Enterprise PKS infrastructure.</p>
<p>Depending on what you have configured in Step 3 (Identity) during your deployment configuration, you can enter the distinguished name of an existing LDAP group (<code>cn=,ou=,dc=</code>) or the name of your SAML identity provider group.</p>
<figure class="center"><a class="lightgallery" href="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_091051.jpg" title="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_091051.jpg" data-thumbnail="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_091051.jpg" data-sub-html="<h2>Figure III: Identity Management</h2>">
        <img
            class="lazyload"
            src="/svg/loading/normal.min.svg"
            data-src="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_091051.jpg"
            data-srcset="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_091051.jpg, /img/posts/201911_pksmgmtconsole/CapturFiles-20191113_091051.jpg 1.5x, /img/posts/201911_pksmgmtconsole/CapturFiles-20191113_091051.jpg 2x"
            data-sizes="auto"
            alt="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_091051.jpg" />
    </a><figcaption class="image-caption">Figure III: Identity Management</figcaption>
    </figure>
<h2 id="deployment-metadata">Deployment Metadata</h2>
<p>This section is kind of an <em>&ldquo;Documentation Page&rdquo;</em> for your Enterprise PKS deployment. You will find all the important Metadata beginning with <em>IP-addresses, FQDNs, credentials (username &amp; password), certificates</em> up to the <em>Enterprise PKS UAA Encryption Passphrase</em>.</p>
<figure class="center"><a class="lightgallery" href="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_073824.jpg" title="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_073824.jpg" data-thumbnail="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_073824.jpg" data-sub-html="<h2>Figure IV: Deployment Metadata</h2>">
        <img
            class="lazyload"
            src="/svg/loading/normal.min.svg"
            data-src="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_073824.jpg"
            data-srcset="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_073824.jpg, /img/posts/201911_pksmgmtconsole/CapturFiles-20191113_073824.jpg 1.5x, /img/posts/201911_pksmgmtconsole/CapturFiles-20191113_073824.jpg 2x"
            data-sizes="auto"
            alt="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_073824.jpg" />
    </a><figcaption class="image-caption">Figure IV: Deployment Metadata</figcaption>
    </figure>
<p><strong>Just as an example what´s also in this section.</strong></p>
<p>You can use the EPMC as a Jumphost for making use of the BOSH CLI to operationalise PKS. The necessary environment variables, which have to be exported, can be found in the <em>Metadata</em> section under the entry <strong>BOSH CLI invocation from console appliance</strong>, as you can see on <em>Figure IV</em>.</p>
<p>Once you have exported the environment variables, you can issue commands like:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">bosh vms
</code></pre></td></tr></table>
</div>
</div><p>to get the state of your deployment or</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">bosh tasks --recent<span class="o">=</span><span class="m">20</span>
</code></pre></td></tr></table>
</div>
</div><p>to see the last 20 recent tasks of BOSH.</p>
<figure class="center"><a class="lightgallery" href="/img/posts/201911_pksmgmtconsole/CapturFiles-20191124_062351.jpg" title="/img/posts/201911_pksmgmtconsole/CapturFiles-20191124_062351.jpg" data-thumbnail="/img/posts/201911_pksmgmtconsole/CapturFiles-20191124_062351.jpg" data-sub-html="<h2>Figure V: ssh´d into EPMC | export env variables (Metadata Section) | show deployment state</h2>">
        <img
            class="lazyload"
            src="/svg/loading/normal.min.svg"
            data-src="/img/posts/201911_pksmgmtconsole/CapturFiles-20191124_062351.jpg"
            data-srcset="/img/posts/201911_pksmgmtconsole/CapturFiles-20191124_062351.jpg, /img/posts/201911_pksmgmtconsole/CapturFiles-20191124_062351.jpg 1.5x, /img/posts/201911_pksmgmtconsole/CapturFiles-20191124_062351.jpg 2x"
            data-sizes="auto"
            alt="/img/posts/201911_pksmgmtconsole/CapturFiles-20191124_062351.jpg" />
    </a><figcaption class="image-caption">Figure V: ssh´d into EPMC | export env variables (Metadata Section) | show deployment state</figcaption>
    </figure>
<h2 id="kubernetes-cluster-creation">Kubernetes cluster creation</h2>
<p>To create a new Kubernetes cluster in Enterprise PKS, you have to make use of the <a href="https://network.pivotal.io/products/pivotal-container-service" target="_blank"><strong>PKS CLI</strong></a>. Login into the PKS API Endpoint with a previously created user, which is in my example the <em>svcpksmgr</em> to which I have assigned the <em>Cluster Manager</em> role, and execute the following:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">pks login -a pks.jarvis.lab -u svcpksmgr -p VMware1! --ca-cert pks.crt*
</code></pre></td></tr></table>
</div>
</div><div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>Tip<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">The PKS certificate can be found via the <em>Metadata</em> tab.</div>
        </div>
    </div>
<p>After a successful login, create a new Kubernetes cluster in the desired &ldquo;T-Shirt size&rdquo; (<code>--plan</code>).</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">pks create-cluster k8s-small --external-hostname k8s-small.jarvis.lab --plan small
</code></pre></td></tr></table>
</div>
</div><p>You can use</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">watch -n <span class="m">2</span> pks cluster k8s-small
</code></pre></td></tr></table>
</div>
</div><p>to watch the creation-progress of your new K8s-cluster.</p>
<figure class="center"><a class="lightgallery" href="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_091448.jpg" title="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_091448.jpg" data-thumbnail="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_091448.jpg" data-sub-html="<h2>Figure VI: Kubernetes cluster deployment</h2>">
        <img
            class="lazyload"
            src="/svg/loading/normal.min.svg"
            data-src="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_091448.jpg"
            data-srcset="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_091448.jpg, /img/posts/201911_pksmgmtconsole/CapturFiles-20191113_091448.jpg 1.5x, /img/posts/201911_pksmgmtconsole/CapturFiles-20191113_091448.jpg 2x"
            data-sizes="auto"
            alt="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_091448.jpg" />
    </a><figcaption class="image-caption">Figure VI: Kubernetes cluster deployment</figcaption>
    </figure>
<h2 id="kubernetes-cluster-information">Kubernetes cluster information</h2>
<p>Again! The <strong>Enterprise PKS Management Console</strong> brings tons of benefits to operators, by beeing the single pane of glass for your Enterprise PKS/ your Kubernetes environment. The following screenshot gives you an idea what I mean.</p>
<figure class="center"><a class="lightgallery" href="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_100104.jpg" title="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_100104.jpg" data-thumbnail="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_100104.jpg" data-sub-html="<h2>Figure VII: Kubernetes cluster Overview</h2>">
        <img
            class="lazyload"
            src="/svg/loading/normal.min.svg"
            data-src="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_100104.jpg"
            data-srcset="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_100104.jpg, /img/posts/201911_pksmgmtconsole/CapturFiles-20191113_100104.jpg 1.5x, /img/posts/201911_pksmgmtconsole/CapturFiles-20191113_100104.jpg 2x"
            data-sizes="auto"
            alt="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_100104.jpg" />
    </a><figcaption class="image-caption">Figure VII: Kubernetes cluster Overview</figcaption>
    </figure>
<p>You can see, that besides the creation date of your cluster, the version of it, the count of Master, Worker and Namespaces OR Storage related information, it also shows you all relevant details regarding Networking like: the assigned <a href="https://docs.vmware.com/en/VMware-Enterprise-PKS/1.6/vmware-enterprise-pks-16/GUID-network-profiles-define.html" target="_blank">Network Profile</a>, the connected T0 and T1-Router, the Logical Switch, Load Balancer information as well as Node and POD networking data.</p>
<p>By selecting <em>Open Kubernetes Dashboard</em> or <em>Access Cluster</em>, a new window appears in both cases with the necessary command-lines in it, which you can either use to get access to the K8s-Dashboard or the Cluster. Otherwise, you can pass it on to the colleague who is eagerly waiting for it.</p>
<figure class="center"><a class="lightgallery" href="/img/posts/201911_pksmgmtconsole/CapturFiles-20191123_043048.jpg" title="/img/posts/201911_pksmgmtconsole/CapturFiles-20191123_043048.jpg" data-thumbnail="/img/posts/201911_pksmgmtconsole/CapturFiles-20191123_043048.jpg" data-sub-html="<h2>Figure VIII: Access Kubernetes Cluster and Dashboard</h2>">
        <img
            class="lazyload"
            src="/svg/loading/normal.min.svg"
            data-src="/img/posts/201911_pksmgmtconsole/CapturFiles-20191123_043048.jpg"
            data-srcset="/img/posts/201911_pksmgmtconsole/CapturFiles-20191123_043048.jpg, /img/posts/201911_pksmgmtconsole/CapturFiles-20191123_043048.jpg 1.5x, /img/posts/201911_pksmgmtconsole/CapturFiles-20191123_043048.jpg 2x"
            data-sizes="auto"
            alt="/img/posts/201911_pksmgmtconsole/CapturFiles-20191123_043048.jpg" />
    </a><figcaption class="image-caption">Figure VIII: Access Kubernetes Cluster and Dashboard</figcaption>
    </figure>
<p>If you have multiple Kubernetes clusters across multiple Availability Zones deployed, you will get the right synopsis on the <strong>Nodes</strong> tab.</p>
<figure class="center"><a class="lightgallery" href="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_095912.jpg" title="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_095912.jpg" data-thumbnail="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_095912.jpg" data-sub-html="<h2>Figure IX: Kubernetes Master &amp; Worker</h2>">
        <img
            class="lazyload"
            src="/svg/loading/normal.min.svg"
            data-src="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_095912.jpg"
            data-srcset="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_095912.jpg, /img/posts/201911_pksmgmtconsole/CapturFiles-20191113_095912.jpg 1.5x, /img/posts/201911_pksmgmtconsole/CapturFiles-20191113_095912.jpg 2x"
            data-sizes="auto"
            alt="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_095912.jpg" />
    </a><figcaption class="image-caption">Figure IX: Kubernetes Master &amp; Worker</figcaption>
    </figure>
<p>Having an understanding of how Enterprise PKS works with NSX-T is crucial. I don´t want to stress this out here, but as a reminder:</p>
<div class="details admonition note open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-pencil-alt fa-fw"></i>Note<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>Each Logical Switch will have a Tier1 Logical Router as a Default Gateway. For the Tier1-Cluster Router, the first available subnet from Nodes-IP-Block will be used with the first IP address as the Default Gateway.</p>
<p>For all Kubernetes Name Spaces, a subnet will be derived from the Pods-IP-Block
A SNAT entry will be configured in the Tier0 Logical Router for each Name Space using the IP-Pool-VIPs since it is the Routable one in the enterprise network.</p>
</div>
        </div>
    </div>
<figure class="center"><a class="lightgallery" href="/img/posts/201911_pksmgmtconsole/CapturFiles-20191117_091820.jpg" title="/img/posts/201911_pksmgmtconsole/CapturFiles-20191117_091820.jpg" data-thumbnail="/img/posts/201911_pksmgmtconsole/CapturFiles-20191117_091820.jpg" data-sub-html="<h2>Figure X: Logical diagram for created Logical Routers and Switches</h2>">
        <img
            class="lazyload"
            src="/svg/loading/normal.min.svg"
            data-src="/img/posts/201911_pksmgmtconsole/CapturFiles-20191117_091820.jpg"
            data-srcset="/img/posts/201911_pksmgmtconsole/CapturFiles-20191117_091820.jpg, /img/posts/201911_pksmgmtconsole/CapturFiles-20191117_091820.jpg 1.5x, /img/posts/201911_pksmgmtconsole/CapturFiles-20191117_091820.jpg 2x"
            data-sizes="auto"
            alt="/img/posts/201911_pksmgmtconsole/CapturFiles-20191117_091820.jpg" />
    </a><figcaption class="image-caption">Figure X: Logical diagram for created Logical Routers and Switches</figcaption>
    </figure>
<p><em>Source: <a href="https://blogs.vmware.com/networkvirtualization/2019/06/kubernetes-and-vmware-enterprise-pks-networking-security-operations-with-nsx-t-data-center.html/">https://blogs.vmware.com/networkvirtualization/2019/06/kubernetes-and-vmware-enterprise-pks-networking-security-operations-with-nsx-t-data-center.html/</a></em></p>
<p>The <strong>Namespace</strong> tab provides you the Hyperlinks to the NSX-T <em>Logical Switches (POD Network)</em> as well as the <em>T1-Router</em> were all the Kubernetes Namespaces are connected to.</p>
<figure class="center"><a class="lightgallery" href="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_100200.jpg" title="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_100200.jpg" data-thumbnail="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_100200.jpg" data-sub-html="<h2>Figure XI: Kubernetes Namespaces</h2>">
        <img
            class="lazyload"
            src="/svg/loading/normal.min.svg"
            data-src="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_100200.jpg"
            data-srcset="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_100200.jpg, /img/posts/201911_pksmgmtconsole/CapturFiles-20191113_100200.jpg 1.5x, /img/posts/201911_pksmgmtconsole/CapturFiles-20191113_100200.jpg 2x"
            data-sizes="auto"
            alt="/img/posts/201911_pksmgmtconsole/CapturFiles-20191113_100200.jpg" />
    </a><figcaption class="image-caption">Figure XI: Kubernetes Namespaces</figcaption>
    </figure>
<h2 id="upgrade-enterprise-pks--kubernetes">Upgrade Enterprise PKS + Kubernetes</h2>
<p>Upgrading your VMware Enterprise PKS Management Plane components as well as your Kubernetes cluster(s) can also be done via the EPMC. If a new version of PKS is available, you´ll be notified by a message at the top. But before you can run the upgrade, you have to migrate your deployment to the newer version of the EPMC first. Therefore:</p>
<ul>
<li>Download the new version via <a href="https://downloads.vmware.com">https://downloads.vmware.com</a></li>
<li>Deploy the OVA</li>
<li>If you deployed your old EPMC with a static IP and you would like to re-use it for the new version, just <em>Shutdown</em> the old appliance, <em>reconfigure</em> the vApp with a temporary IP address and <em>Power on</em> the appliance again (this should be done before rolling out the new one 😉)</li>
<li>Login in into the new EPMC and select this time <strong>Upgrade</strong>. See <a href="https://rguske.github.io/post/pks-management-console-day-1/" target="_blank"><em>Figure IV: Install or Upgrade Option</em></a></li>
</ul>
<figure class="center"><a class="lightgallery" href="/img/posts/201911_pksmgmtconsole/CapturFiles-20191123_022912.jpg" title="/img/posts/201911_pksmgmtconsole/CapturFiles-20191123_022912.jpg" data-thumbnail="/img/posts/201911_pksmgmtconsole/CapturFiles-20191123_022912.jpg" data-sub-html="<h2>Figure XII: Upgrade Enterprise PKS Management Console</h2>">
        <img
            class="lazyload"
            src="/svg/loading/normal.min.svg"
            data-src="/img/posts/201911_pksmgmtconsole/CapturFiles-20191123_022912.jpg"
            data-srcset="/img/posts/201911_pksmgmtconsole/CapturFiles-20191123_022912.jpg, /img/posts/201911_pksmgmtconsole/CapturFiles-20191123_022912.jpg 1.5x, /img/posts/201911_pksmgmtconsole/CapturFiles-20191123_022912.jpg 2x"
            data-sizes="auto"
            alt="/img/posts/201911_pksmgmtconsole/CapturFiles-20191123_022912.jpg" />
    </a><figcaption class="image-caption">Figure XII: Upgrade Enterprise PKS Management Console</figcaption>
    </figure>
<p><strong>BTW:</strong> As you can see on the screenshot above and below, I´ve duplicated the tab of my browser to highlight a pretty neat feature of the EPMC. By clicking the <strong>?</strong> icon, which can be found at the top bar as well as in some of the sections, a Contextual help will appear.</p>
<h2 id="vmware-enterprise-pks-component-patches">VMware Enterprise PKS Component Patches</h2>
<p>Unfortunately, this section currently applies to the Enterprise PKS Management Console only. It´s planned to have the ability to patch the PKS Management Plane components in a future release too. For now applies, if an patch for the EPMC is available, you will be notified via a message at the top bar:</p>
<p><code>There are new patches to the VMware Enterprise PKS components</code>.</p>
<figure class="center"><a class="lightgallery" href="/img/posts/201911_pksmgmtconsole/CapturFiles-20191123_022956.jpg" title="/img/posts/201911_pksmgmtconsole/CapturFiles-20191123_022956.jpg" data-thumbnail="/img/posts/201911_pksmgmtconsole/CapturFiles-20191123_022956.jpg" data-sub-html="<h2>Figure XIII: VMware Enterprise PKS Component Patches</h2>">
        <img
            class="lazyload"
            src="/svg/loading/normal.min.svg"
            data-src="/img/posts/201911_pksmgmtconsole/CapturFiles-20191123_022956.jpg"
            data-srcset="/img/posts/201911_pksmgmtconsole/CapturFiles-20191123_022956.jpg, /img/posts/201911_pksmgmtconsole/CapturFiles-20191123_022956.jpg 1.5x, /img/posts/201911_pksmgmtconsole/CapturFiles-20191123_022956.jpg 2x"
            data-sizes="auto"
            alt="/img/posts/201911_pksmgmtconsole/CapturFiles-20191123_022956.jpg" />
    </a><figcaption class="image-caption">Figure XIII: VMware Enterprise PKS Component Patches</figcaption>
    </figure>
<hr>
<p><strong><center>Thanks for reading.</center></strong></p>
<hr>
<h2 id="resources">Resources</h2>
<table>
<thead>
<tr>
<th align="center"><strong>Site</strong></th>
<th align="right"><strong>URL</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><strong>VMware Docs EPMC</strong></td>
<td align="right"><a href="https://docs.vmware.com/en/VMware-Enterprise-PKS/1.6/vmware-enterprise-pks-16/GUID-console-console-index.html">https://docs.vmware.com/en/VMware-Enterprise-PKS/1.6/vmware-enterprise-pks-16/GUID-console-console-index.html</a></td>
</tr>
<tr>
<td align="center"><strong>Pivotal Docs EPMC</strong></td>
<td align="right"><a href="http://docs-pcf-staging.cfapps.io/pks/1-6/console/deploy-console-ova.html">http://docs-pcf-staging.cfapps.io/pks/1-6/console/deploy-console-ova.html</a></td>
</tr>
<tr>
<td align="center"><strong>VMware Release Notes</strong></td>
<td align="right"><a href="https://docs.vmware.com/en/VMware-Enterprise-PKS/1.6/rn/VMware-Enterprise-PKS-16-Release-Notes.html">https://docs.vmware.com/en/VMware-Enterprise-PKS/1.6/rn/VMware-Enterprise-PKS-16-Release-Notes.html</a></td>
</tr>
<tr>
<td align="center"><strong>VMware VVD 5.1 - PKS</strong></td>
<td align="right"><a href="https://docs.vmware.com/en/VMware-Validated-Design/5.1/sddc-architecture-and-design-for-vmware-enterprise-pks-with-vmware-nsx-t-workload-domains/">https://docs.vmware.com/en/VMware-Validated-Design/5.1/sddc-architecture-and-design-for-vmware-enterprise-pks-with-vmware-nsx-t-workload-domains/</a></td>
</tr>
<tr>
<td align="center"><strong>EPMC YAML Configuration import</strong></td>
<td align="right"><a href="https://docs.vmware.com/en/VMware-Enterprise-PKS/1.6/vmware-enterprise-pks-16/GUID-console-deploy-ent-pks-yaml.html">https://docs.vmware.com/en/VMware-Enterprise-PKS/1.6/vmware-enterprise-pks-16/GUID-console-deploy-ent-pks-yaml.html</a></td>
</tr>
<tr>
<td align="center"><strong>VMware Docs - PKS Control Plane</strong></td>
<td align="right"><a href="https://docs.vmware.com/en/VMware-Enterprise-PKS/1.6/vmware-enterprise-pks-16/GUID-control-plane.html">https://docs.vmware.com/en/VMware-Enterprise-PKS/1.6/vmware-enterprise-pks-16/GUID-control-plane.html</a></td>
</tr>
<tr>
<td align="center"><strong>Download via VMware</strong></td>
<td align="right"><a href="https://my.vmware.com/web/vmware/info/slug/infrastructure_operations_management/vmware_enterprise_pks/1_6">https://my.vmware.com/web/vmware/info/slug/infrastructure_operations_management/vmware_enterprise_pks/1_6</a></td>
</tr>
<tr>
<td align="center"><strong>Download via Pivotal</strong></td>
<td align="right"><a href="https://network.pivotal.io/products/pivotal-container-service">https://network.pivotal.io/products/pivotal-container-service</a></td>
</tr>
<tr>
<td align="center"><strong>Download Pivotal CLI</strong></td>
<td align="right"><a href="https://network.pivotal.io/products/pivotal-container-service">https://network.pivotal.io/products/pivotal-container-service</a></td>
</tr>
</tbody>
</table>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>The article was updated on 2020-05-07&nbsp;<a class="git-hash" href="https://github.com/rguske/commit/d979e6fe82842f8d77e91b7fee3585c7731923e1" target="_blank" title="commit by Robert Guske(rguske@mware.com) d979e6fe82842f8d77e91b7fee3585c7731923e1: change theme from casper-two to loveit">
                                <i class="fas fa-hashtag fa-fw"></i>d979e6f</a></span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/pks-management-console-day-2/index.md" target="_blank">Read Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://rguske.github.io/pks-management-console-day-2/" data-title="VMware Enterprise PKS Management Console (EPMC) - Day 2" data-via="vmw_rguske" data-hashtags="November2019,Kubernetes,PKS,EPMC,vSphere"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="Share on Linkedin" data-sharer="linkedin" data-url="https://rguske.github.io/pks-management-console-day-2/"><i class="fab fa-linkedin fa-fw"></i></a><a href="javascript:void(0);" title="Share on WhatsApp" data-sharer="whatsapp" data-url="https://rguske.github.io/pks-management-console-day-2/" data-title="VMware Enterprise PKS Management Console (EPMC) - Day 2" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href="javascript:void(0);" title="Share on Reddit" data-sharer="reddit" data-url="https://rguske.github.io/pks-management-console-day-2/"><i class="fab fa-reddit fa-fw"></i></a><a href="javascript:void(0);" title="Share on Xing" data-sharer="xing" data-url="https://rguske.github.io/pks-management-console-day-2/" data-title="VMware Enterprise PKS Management Console (EPMC) - Day 2"><i class="fab fa-xing fa-fw"></i></a><a href="javascript:void(0);" title="Share on Blogger" data-sharer="blogger" data-url="https://rguske.github.io/pks-management-console-day-2/" data-title="VMware Enterprise PKS Management Console (EPMC) - Day 2" data-description=""><i class="fab fa-blogger fa-fw"></i></a><a href="javascript:void(0);" title="Share on Evernote" data-sharer="evernote" data-url="https://rguske.github.io/pks-management-console-day-2/" data-title="VMware Enterprise PKS Management Console (EPMC) - Day 2"><i class="fab fa-evernote fa-fw"></i></a><a href="javascript:void(0);" title="Share on Skype" data-sharer="skype" data-url="https://rguske.github.io/pks-management-console-day-2/" data-title="VMware Enterprise PKS Management Console (EPMC) - Day 2"><i class="fab fa-skype fa-fw"></i></a><a href="javascript:void(0);" title="Share on Trello" data-sharer="trello" data-url="https://rguske.github.io/pks-management-console-day-2/" data-title="VMware Enterprise PKS Management Console (EPMC) - Day 2" data-description=""><i class="fab fa-trello fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/november2019/">November2019</a>,&nbsp;<a href="/tags/kubernetes/">Kubernetes</a>,&nbsp;<a href="/tags/pks/">PKS</a>,&nbsp;<a href="/tags/epmc/">EPMC</a>,&nbsp;<a href="/tags/vsphere/">vSphere</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/vmware-microsites-you-should-bookmark/" class="prev" rel="prev" title="VMware Microsites You should bookmark"><i class="fas fa-angle-left fa-fw"></i>VMware Microsites You should bookmark</a>
            <a href="/pks-management-console-day-1/" class="next" rel="next" title="VMware Enterprise PKS Management Console (EPMC) - Day 1">VMware Enterprise PKS Management Console (EPMC) - Day 1<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2018 - 2020</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/about/" target="_blank">Robert Guske</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/lightgallery/lightgallery.min.css"><style>.lg-toolbar .lg-icon::after { color: #999; }</style><script type="text/javascript">
    window.config = {"code":{"copyTitle":"Copy to clipboard","maxShownLines":80},"comment":{},"headerMode":{"desktop":"fixed","mobile":"auto"},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"lunr"}};
</script><script type="text/javascript" src="https://polyfill.io/v3/polyfill.min.js?features=html5shiv%2CElement.prototype.closest%2CrequestAnimationFrame%2CCustomEvent%2CPromise%2CObject.entries%2CObject.assign%2CObject.values%2Cfetch%2CElement.prototype.after%2CArray.prototype.fill%2CIntersectionObserver%2CArray.from%2CArray.prototype.find%2CMath.sign"></script><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/object-fit-images/ofi.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lightgallery.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-thumbnail.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-zoom.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
